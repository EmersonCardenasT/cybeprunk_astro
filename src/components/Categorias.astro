---
// Categories.astro — Categorías en línea · Minimal · Steel / Olive
---

<section id="categorias" class="cat-section">

  <div class="cat-bg" aria-hidden="true">
    <div class="cat-grain"></div>
    <div class="cat-line cat-line-top"></div>
    <div class="cat-line cat-line-bottom"></div>
  </div>

  <div class="cat-inner">

    <!-- Header row -->
    <div class="cat-header" data-reveal>
      <p class="cat-eyebrow">
        <span class="eyebrow-pip"></span>
        Categorías
      </p>
      <a href="#productos" class="cat-see-all">
        Ver todo
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path d="M3 7h8M8 4l3 3-3 3" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <!-- Categories strip -->
    <div class="cat-strip" role="list" data-reveal>

      <!-- 01 · Celulares -->
      <a href="#productos" class="cat-item active" role="listitem" data-cat="Celulares">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <rect x="7" y="2" width="14" height="24" rx="3.5" stroke="currentColor" stroke-width="1.4"/>
              <rect x="10.5" y="4.5" width="7" height="14" rx="1" fill="currentColor" opacity="0.08"/>
              <circle cx="14" cy="22" r="1.2" fill="currentColor" opacity="0.5"/>
              <line x1="11" y1="6.5" x2="17" y2="6.5" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.35"/>
            </svg>
          </div>
          <span class="cat-name">Celulares</span>
          <span class="cat-num">01</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

      <div class="cat-sep" aria-hidden="true"></div>

      <!-- 02 · Smartwatch -->
      <a href="#productos" class="cat-item" role="listitem" data-cat="Smartwatch">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <rect x="8" y="7" width="12" height="14" rx="3" stroke="currentColor" stroke-width="1.4"/>
              <rect x="10.5" y="9.5" width="7" height="9" rx="1" fill="currentColor" opacity="0.07"/>
              <!-- Band top -->
              <path d="M11 7V4.5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1V7" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
              <!-- Band bottom -->
              <path d="M11 21v2.5a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V21" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
              <!-- Clock hands -->
              <path d="M14 12v2.5l1.5 1.5" stroke="currentColor" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round" opacity="0.6"/>
            </svg>
          </div>
          <span class="cat-name">Smartwatch</span>
          <span class="cat-num">02</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

      <div class="cat-sep" aria-hidden="true"></div>

      <!-- 03 · Audífonos -->
      <a href="#productos" class="cat-item" role="listitem" data-cat="Audífonos">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <!-- Arc -->
              <path d="M6 15v-1a8 8 0 0 1 16 0v1" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <!-- Left cup -->
              <rect x="4" y="14" width="5" height="8" rx="2.5" stroke="currentColor" stroke-width="1.4"/>
              <!-- Right cup -->
              <rect x="19" y="14" width="5" height="8" rx="2.5" stroke="currentColor" stroke-width="1.4"/>
            </svg>
          </div>
          <span class="cat-name">Audífonos</span>
          <span class="cat-num">03</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

      <div class="cat-sep" aria-hidden="true"></div>

      <!-- 04 · Macs -->
      <a href="#productos" class="cat-item" role="listitem" data-cat="Macs">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <!-- Screen -->
              <rect x="4" y="4" width="20" height="14" rx="2" stroke="currentColor" stroke-width="1.4"/>
              <rect x="6" y="6" width="16" height="10" rx="1" fill="currentColor" opacity="0.07"/>
              <!-- Neck -->
              <path d="M14 18v3" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <!-- Base -->
              <path d="M9 24h10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="cat-name">Macs</span>
          <span class="cat-num">04</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

      <div class="cat-sep" aria-hidden="true"></div>

      <!-- 05 · PC -->
      <a href="#productos" class="cat-item" role="listitem" data-cat="PC">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <!-- Tower case -->
              <rect x="9" y="3" width="10" height="18" rx="2" stroke="currentColor" stroke-width="1.4"/>
              <!-- Power button -->
              <circle cx="14" cy="7" r="1.5" stroke="currentColor" stroke-width="1.1"/>
              <!-- Drive slot -->
              <rect x="11" y="11" width="6" height="1.5" rx="0.75" fill="currentColor" opacity="0.35"/>
              <rect x="11" y="14" width="6" height="1.5" rx="0.75" fill="currentColor" opacity="0.2"/>
              <!-- Base -->
              <path d="M7 24h14" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
              <!-- Keyboard hint -->
              <path d="M6 26h16" stroke="currentColor" stroke-width="1" stroke-linecap="round" opacity="0.3"/>
            </svg>
          </div>
          <span class="cat-name">PC</span>
          <span class="cat-num">05</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

      <div class="cat-sep" aria-hidden="true"></div>

      <!-- 06 · Covers -->
      <a href="#productos" class="cat-item" role="listitem" data-cat="Covers">
        <div class="cat-item-inner">
          <div class="cat-icon" aria-hidden="true">
            <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
              <!-- Phone outline -->
              <rect x="7" y="2" width="14" height="24" rx="3.5" stroke="currentColor" stroke-width="1.4" opacity="0.25" stroke-dasharray="2 2"/>
              <!-- Case / cover (slightly larger, offset) -->
              <rect x="5.5" y="5" width="17" height="20" rx="4" stroke="currentColor" stroke-width="1.4"/>
              <!-- Camera cutout -->
              <circle cx="14" cy="9" r="2" stroke="currentColor" stroke-width="1" opacity="0.5"/>
              <!-- Texture lines on cover -->
              <line x1="9" y1="15" x2="19" y2="15" stroke="currentColor" stroke-width="0.8" opacity="0.2" stroke-linecap="round"/>
              <line x1="9" y1="18" x2="19" y2="18" stroke="currentColor" stroke-width="0.8" opacity="0.15" stroke-linecap="round"/>
            </svg>
          </div>
          <span class="cat-name">Covers</span>
          <span class="cat-num">06</span>
        </div>
        <div class="cat-underline" aria-hidden="true"></div>
      </a>

    </div>
    <!-- /cat-strip -->

  </div>
</section>

<style>
  /* ── PALETTE ── */
  :root {
    --black:    #0a0a0a;
    --white:    #f4f3ef;
    --steel:    #4a6278;
    --steel-lt: #7a98ae;
    --olive:    #6b7c55;
    --olive-lt: #8fa070;
  }

  /* Light */
  .cat-section {
    --bg:      #f4f3ef;
    --bg-card: #ffffff;
    --text:    #0a0a0a;
    --muted:   rgba(10,10,10,0.38);
    --border:  rgba(10,10,10,0.08);
    background: var(--bg);
    color: var(--text);
    transition: background 0.4s, color 0.4s;
  }
  /* Dark */
  :root.dark .cat-section {
    --bg:      #0c0c0c;
    --bg-card: #111111;
    --text:    #f4f3ef;
    --muted:   rgba(244,243,239,0.35);
    --border:  rgba(244,243,239,0.07);
  }

  /* ── SECTION ── */
  .cat-section {
    position: relative;
    padding: 80px 0;
    font-family: 'DM Sans', 'Helvetica Neue', sans-serif;
    overflow: hidden;
  }

  /* ── BG ── */
  .cat-bg { position: absolute; inset: 0; pointer-events: none; }
  .cat-grain {
    position: absolute; inset: 0; opacity: 0.025;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E");
    background-size: 256px;
  }
  .cat-line { position: absolute; left: 0; right: 0; height: 1px; background: var(--border); }
  .cat-line-top    { top: 0; }
  .cat-line-bottom { bottom: 0; }

  /* ── INNER ── */
  .cat-inner {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 44px;
    display: flex;
    flex-direction: column;
    gap: 36px;
  }
  @media (max-width: 640px) { .cat-inner { padding: 0 20px; gap: 28px; } }

  /* ── HEADER ── */
  .cat-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .cat-eyebrow {
    display: flex; align-items: center; gap: 10px;
    font-size: 0.65rem;
    letter-spacing: 0.26em;
    text-transform: uppercase;
    color: var(--steel-lt);
    margin: 0;
  }
  .eyebrow-pip {
    width: 7px; height: 7px;
    background: var(--olive-lt);
    border-radius: 50%;
    box-shadow: 0 0 8px var(--olive);
    flex-shrink: 0;
  }
  .cat-see-all {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 0.65rem;
    font-weight: 500;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    text-decoration: none;
    color: var(--muted);
    transition: color 0.25s, gap 0.25s;
  }
  .cat-see-all:hover { color: var(--steel-lt); gap: 10px; }

  /* ── STRIP ── */
  .cat-strip {
    display: flex;
    align-items: stretch;
    border: 1px solid var(--border);
    background: var(--bg-card);
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
    /* Snap on mobile */
    scroll-snap-type: x mandatory;
  }
  .cat-strip::-webkit-scrollbar { display: none; }

  /* Separator */
  .cat-sep {
    width: 1px;
    background: var(--border);
    flex-shrink: 0;
    align-self: stretch;
  }

  /* ── ITEM ── */
  .cat-item {
    flex: 1 0 0;
    min-width: 120px;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--muted);
    padding: 32px 16px 28px;
    transition: color 0.3s, background 0.3s;
    scroll-snap-align: start;
    overflow: hidden;
    outline: none;
  }

  .cat-item:hover,
  .cat-item.active {
    color: var(--text);
    background: color-mix(in srgb, var(--bg-card), var(--steel) 4%);
  }
  :root.dark .cat-item:hover,
  :root.dark .cat-item.active {
    background: rgba(74,98,120,0.06);
  }

  /* Item inner */
  .cat-item-inner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    position: relative;
    z-index: 1;
    width: 100%;
  }

  /* Icon */
  .cat-icon {
    width: 52px; height: 52px;
    display: flex; align-items: center; justify-content: center;
    border: 1px solid var(--border);
    color: var(--muted);
    background: var(--bg);
    transition: border-color 0.35s, color 0.35s, box-shadow 0.35s, transform 0.35s, background 0.35s;
  }
  .cat-item:hover .cat-icon,
  .cat-item.active .cat-icon {
    border-color: var(--steel);
    color: var(--steel-lt);
    background: rgba(74,98,120,0.05);
    box-shadow: 0 0 18px rgba(74,98,120,0.14), inset 0 0 10px rgba(74,98,120,0.04);
    transform: translateY(-4px);
  }

  /* Name */
  .cat-name {
    font-size: 0.72rem;
    font-weight: 500;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    text-align: center;
    line-height: 1;
    transition: color 0.3s;
    white-space: nowrap;
  }
  .cat-item:hover .cat-name,
  .cat-item.active .cat-name {
    color: var(--text);
  }

  /* Index number */
  .cat-num {
    position: absolute;
    top: -2px; right: 0;
    font-size: 0.52rem;
    letter-spacing: 0.2em;
    color: var(--muted);
    opacity: 0.4;
    font-variant-numeric: tabular-nums;
    transition: opacity 0.3s, color 0.3s;
  }
  .cat-item:hover .cat-num,
  .cat-item.active .cat-num {
    opacity: 0.8;
    color: var(--steel-lt);
  }

  /* Bottom underline (olive → steel sweep) */
  .cat-underline {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(to right, var(--olive), var(--steel));
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.4s cubic-bezier(0.4,0,0.2,1);
  }
  .cat-item:hover .cat-underline,
  .cat-item.active .cat-underline {
    transform: scaleX(1);
  }

  /* Focus ring */
  .cat-item:focus-visible {
    outline: 2px solid var(--steel-lt);
    outline-offset: -2px;
  }

  /* ── REVEAL ── */
  [data-reveal] {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.7s cubic-bezier(0.22,1,0.36,1), transform 0.7s cubic-bezier(0.22,1,0.36,1);
  }
  [data-reveal].visible { opacity: 1; transform: translateY(0); }
  [data-reveal]:nth-child(2) { transition-delay: 0.1s; }
</style>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet"/>

<script>
(function () {
  /* ── REVEAL ── */
  const reveals = document.querySelectorAll('[data-reveal]');
  const obs = new IntersectionObserver(
    entries => entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } }),
    { threshold: 0.15 }
  );
  reveals.forEach(el => obs.observe(el));

  /* ── ACTIVE CATEGORY ── */
  const items = document.querySelectorAll('.cat-item');
  items.forEach(item => {
    item.addEventListener('click', (e) => {
      items.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
    });
  });
})();
</script>