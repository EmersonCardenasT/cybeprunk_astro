---
// ProductsIphone.astro — Grilla iPhone 4×2 · Minimal · Steel / Olive
---

<section id="productos" class="pi-section">

  <div class="pi-bg" aria-hidden="true">
    <div class="pi-grain"></div>
    <div class="pi-line pi-line-top"></div>
    <div class="pi-line pi-line-bottom"></div>
  </div>

  <div class="pi-inner">

    <!-- ── HEADER ── -->
    <div class="pi-header" data-reveal>
      <div class="pi-header-left">
        <p class="pi-eyebrow">
          <span class="eyebrow-pip"></span>
          iPhone · Línea completa
        </p>
        <h2 class="pi-title">
          Los mejores<br/>
          <span class="title-outline">iPhones.</span>
        </h2>
      </div>
      <div class="pi-header-right">
        <p class="pi-sub">Todos los modelos disponibles, originales con garantía oficial. Financiación disponible.</p>
        <div class="pi-filters" role="tablist" aria-label="Filtrar por serie">
          <button class="filter-btn active" data-filter="all"  role="tab" aria-selected="true">Todos</button>
          <button class="filter-btn"        data-filter="pro"  role="tab" aria-selected="false">Pro</button>
          <button class="filter-btn"        data-filter="std"  role="tab" aria-selected="false">Estándar</button>
          <button class="filter-btn"        data-filter="prev" role="tab" aria-selected="false">Anteriores</button>
        </div>
      </div>
    </div>

    <!-- ── GRID 4×2 ── -->
    <div class="pi-grid" id="piGrid">

      <!-- ① iPhone 17 Pro Max -->
      <article class="pi-card" data-filter="pro" data-reveal data-delay="0">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-new">Nuevo</span>
            <button class="pi-wish" aria-label="Guardar iPhone 17 Pro Max">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=600&q=80&auto=format&fit=crop" alt="iPhone 17 Pro Max" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">17 Pro Max</span>
              <span class="pi-storage">256 GB</span>
            </div>
            <h3 class="pi-name">iPhone 17 <span class="pi-name-out">Pro Max</span></h3>
            <p class="pi-spec">A19 Pro · Titanio · 6.9"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.599</span>
              <span class="pi-price">$1.399</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ② iPhone 17 Pro -->
      <article class="pi-card" data-filter="pro" data-reveal data-delay="1">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-new">Nuevo</span>
            <button class="pi-wish" aria-label="Guardar iPhone 17 Pro">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1691205756736-e4f4e48cbbb2?w=600&q=80&auto=format&fit=crop" alt="iPhone 17 Pro" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">17 Pro</span>
              <span class="pi-storage">128 GB</span>
            </div>
            <h3 class="pi-name">iPhone 17 <span class="pi-name-out">Pro</span></h3>
            <p class="pi-spec">A19 Pro · Titanio · 6.3"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.299</span>
              <span class="pi-price">$1.149</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ③ iPhone 17 -->
      <article class="pi-card" data-filter="std" data-reveal data-delay="2">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-new">Nuevo</span>
            <button class="pi-wish" aria-label="Guardar iPhone 17">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1512054502232-10a0a035d672?w=600&q=80&auto=format&fit=crop" alt="iPhone 17" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">17</span>
              <span class="pi-storage">128 GB</span>
            </div>
            <h3 class="pi-name">iPhone 17 <span class="pi-name-out" style="-webkit-text-stroke:1px rgba(10,10,10,0.2)">Std</span></h3>
            <p class="pi-spec">A19 · Aluminio · 6.1"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$999</span>
              <span class="pi-price">$899</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ④ iPhone 17 Plus -->
      <article class="pi-card" data-filter="std" data-reveal data-delay="3">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-new">Nuevo</span>
            <button class="pi-wish" aria-label="Guardar iPhone 17 Plus">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1580910051074-3eb694886505?w=600&q=80&auto=format&fit=crop" alt="iPhone 17 Plus" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">17 Plus</span>
              <span class="pi-storage">256 GB</span>
            </div>
            <h3 class="pi-name">iPhone 17 <span class="pi-name-out" style="-webkit-text-stroke:1px rgba(10,10,10,0.2)">Plus</span></h3>
            <p class="pi-spec">A19 · Aluminio · 6.7"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.099</span>
              <span class="pi-price">$979</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ⑤ iPhone 16 Pro Max -->
      <article class="pi-card" data-filter="prev" data-reveal data-delay="4">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-offer">Oferta</span>
            <button class="pi-wish" aria-label="Guardar iPhone 16 Pro Max">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1726137569812-f27e3b1c7c6c?w=600&q=80&auto=format&fit=crop" alt="iPhone 16 Pro Max" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">16 Pro Max</span>
              <span class="pi-storage">256 GB</span>
            </div>
            <h3 class="pi-name">iPhone 16 <span class="pi-name-out">Pro Max</span></h3>
            <p class="pi-spec">A18 Pro · Titanio · 6.9"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.399</span>
              <span class="pi-price">$1.199</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ⑥ iPhone 16 Pro -->
      <article class="pi-card" data-filter="prev" data-reveal data-delay="5">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-offer">Oferta</span>
            <button class="pi-wish" aria-label="Guardar iPhone 16 Pro">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1632661674596-df8be070a5c5?w=600&q=80&auto=format&fit=crop" alt="iPhone 16 Pro" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">16 Pro</span>
              <span class="pi-storage">128 GB</span>
            </div>
            <h3 class="pi-name">iPhone 16 <span class="pi-name-out">Pro</span></h3>
            <p class="pi-spec">A18 Pro · Titanio · 6.3"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.199</span>
              <span class="pi-price">$999</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ⑦ iPhone 15 Pro -->
      <article class="pi-card" data-filter="prev" data-reveal data-delay="6">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-stock">Stock limitado</span>
            <button class="pi-wish" aria-label="Guardar iPhone 15 Pro">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1698527906657-e95f4d1dfc64?w=600&q=80&auto=format&fit=crop" alt="iPhone 15 Pro" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">15 Pro</span>
              <span class="pi-storage">128 GB</span>
            </div>
            <h3 class="pi-name">iPhone 15 <span class="pi-name-out">Pro</span></h3>
            <p class="pi-spec">A17 Pro · Titanio · 6.1"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$1.099</span>
              <span class="pi-price">$849</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

      <!-- ⑧ iPhone SE 3ª gen -->
      <article class="pi-card" data-filter="prev" data-reveal data-delay="7">
        <div class="pi-card-inner">
          <div class="pi-card-top">
            <span class="pi-label pi-label-offer">Oferta</span>
            <button class="pi-wish" aria-label="Guardar iPhone SE">
              <svg width="15" height="15" viewBox="0 0 16 16" fill="none"><path d="M8 13.5S2 9.8 2 5.5A3.5 3.5 0 0 1 8 3.2 3.5 3.5 0 0 1 14 5.5C14 9.8 8 13.5 8 13.5z" stroke="currentColor" stroke-width="1.3" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="pi-img-wrap">
            <img src="https://images.unsplash.com/photo-1574755393849-623942496936?w=600&q=80&auto=format&fit=crop" alt="iPhone SE 3ª gen" class="pi-img" loading="lazy"/>
            <div class="pi-img-fade"></div>
          </div>
          <div class="pi-card-body">
            <div class="pi-card-meta">
              <span class="pi-series">SE · 3ª gen</span>
              <span class="pi-storage">64 GB</span>
            </div>
            <h3 class="pi-name">iPhone SE <span class="pi-name-out" style="-webkit-text-stroke:1px rgba(10,10,10,0.2)">3G</span></h3>
            <p class="pi-spec">A15 · Aluminio · 4.7"</p>
          </div>
          <div class="pi-card-footer">
            <div class="pi-price-wrap">
              <span class="pi-old">$599</span>
              <span class="pi-price">$449</span>
            </div>
            <a href="#contacto" class="pi-btn">
              Comprar
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M2 6h8M7 3l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </a>
          </div>
        </div>
        <div class="pi-accent"></div>
      </article>

    </div><!-- /pi-grid -->

    <!-- ── FOOTER ── -->
    <div class="pi-footer" data-reveal>
      <span class="pi-footer-note">
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 1L1 3.5v5C1 10.9 3.2 12 6 12s5-1.1 5-3.5v-5z" stroke="currentColor" stroke-width="1" stroke-linejoin="round"/></svg>
        Equipos originales con garantía oficial Apple
      </span>
      <a href="#productos" class="pi-view-more">
        Ver catálogo completo
        <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><path d="M3 6.5h7M7 3.5l3 3-3 3" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </a>
    </div>

  </div>
</section>

<style>
  /* ── PALETTE ── */
  :root {
    --steel:    #4a6278;
    --steel-lt: #7a98ae;
    --olive:    #6b7c55;
    --olive-lt: #8fa070;
    --white:    #f4f3ef;
    --black:    #0a0a0a;
  }

  /* Light */
  .pi-section {
    --bg:      #f4f3ef;
    --bg-card: #ffffff;
    --text:    #0a0a0a;
    --muted:   rgba(10,10,10,0.4);
    --border:  rgba(10,10,10,0.08);
    background: var(--bg);
    color: var(--text);
    transition: background 0.4s, color 0.4s;
  }
  /* Dark */
  :root.dark .pi-section {
    --bg:      #0c0c0c;
    --bg-card: #111111;
    --text:    #f4f3ef;
    --muted:   rgba(244,243,239,0.38);
    --border:  rgba(244,243,239,0.07);
  }
  :root.dark .pi-name-out { -webkit-text-stroke: 1px rgba(244,243,239,0.28) !important; }

  /* ── SECTION ── */
  .pi-section {
    position: relative;
    padding: 120px 0 100px;
    font-family: 'DM Sans', 'Helvetica Neue', sans-serif;
    overflow: hidden;
  }

  /* ── BG ── */
  .pi-bg { position: absolute; inset: 0; pointer-events: none; }
  .pi-grain {
    position: absolute; inset: 0; opacity: 0.025;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E");
    background-size: 256px;
  }
  .pi-line { position: absolute; left: 0; right: 0; height: 1px; background: var(--border); }
  .pi-line-top { top: 0; }
  .pi-line-bottom { bottom: 0; }

  /* ── INNER ── */
  .pi-inner {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0 44px;
    display: flex;
    flex-direction: column;
    gap: 52px;
    position: relative;
    z-index: 1;
  }
  @media (max-width: 640px) { .pi-inner { padding: 0 20px; gap: 36px; } }

  /* ── HEADER ── */
  .pi-header {
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 60px;
    align-items: end;
  }
  @media (max-width: 860px) { .pi-header { grid-template-columns: 1fr; gap: 20px; } }

  .pi-eyebrow {
    display: flex; align-items: center; gap: 10px;
    font-size: 0.65rem; letter-spacing: 0.26em; text-transform: uppercase;
    color: var(--steel-lt); margin: 0 0 18px;
  }
  .eyebrow-pip {
    width: 7px; height: 7px; background: var(--olive-lt);
    border-radius: 50%; box-shadow: 0 0 8px var(--olive);
  }
  .pi-title {
    font-family: 'DM Serif Display', Georgia, serif;
    font-size: clamp(2.4rem, 5vw, 4rem);
    font-weight: 400; line-height: 0.93;
    letter-spacing: -0.035em; color: var(--text); margin: 0;
  }
  .title-outline {
    color: transparent;
    -webkit-text-stroke: 1px rgba(10,10,10,0.35);
  }
  :root.dark .title-outline { -webkit-text-stroke: 1px rgba(244,243,239,0.28); }

  .pi-header-right { display: flex; flex-direction: column; gap: 18px; }
  .pi-sub {
    font-size: 0.85rem; color: var(--muted);
    line-height: 1.75; margin: 0; font-weight: 300; max-width: 380px;
  }

  /* Filter tabs */
  .pi-filters { display: flex; gap: 4px; flex-wrap: wrap; }
  .filter-btn {
    padding: 7px 18px; font-size: 0.63rem; font-weight: 500;
    letter-spacing: 0.15em; text-transform: uppercase;
    border: 1px solid var(--border); background: transparent;
    color: var(--muted); cursor: pointer;
    transition: border-color 0.25s, color 0.25s, background 0.25s, box-shadow 0.25s;
  }
  .filter-btn:hover { border-color: var(--steel-lt); color: var(--text); }
  .filter-btn.active {
    border-color: var(--steel); color: var(--text);
    background: rgba(74,98,120,0.07);
    box-shadow: 0 0 14px rgba(74,98,120,0.1);
  }

  /* ── GRID 4 × 2 ── */
  .pi-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);  /* 4 columnas fijas */
    gap: 1px;
    background: var(--border);
    border: 1px solid var(--border);
  }
  @media (max-width: 860px)  { .pi-grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width: 480px)  { .pi-grid { grid-template-columns: 1fr; } }

  /* ── CARD ── */
  .pi-card {
    position: relative;
    background: var(--bg-card);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: background 0.3s;
  }
  .pi-card:hover {
    background: color-mix(in srgb, var(--bg-card), var(--steel) 3%);
    z-index: 1;
  }
  :root.dark .pi-card:hover { background: rgba(74,98,120,0.06); }

  .pi-card-inner {
    display: flex; flex-direction: column; flex: 1;
    padding: 20px; gap: 16px;
  }

  /* Top row */
  .pi-card-top {
    display: flex; align-items: center; justify-content: space-between;
  }

  /* Labels */
  .pi-label {
    font-size: 0.52rem; font-weight: 700;
    letter-spacing: 0.2em; text-transform: uppercase;
    padding: 3px 9px; border-radius: 1px;
  }
  .pi-label-new   { background:rgba(74,98,120,0.1); border:1px solid rgba(74,98,120,0.25); color:var(--steel-lt); }
  .pi-label-offer { background:rgba(107,124,85,0.1); border:1px solid rgba(107,124,85,0.25); color:var(--olive-lt); }
  .pi-label-stock { background:rgba(10,10,10,0.05); border:1px solid var(--border); color:var(--muted); }

  /* Wishlist */
  .pi-wish {
    width: 28px; height: 28px;
    display: flex; align-items: center; justify-content: center;
    background: transparent; border: 1px solid var(--border);
    color: var(--muted); cursor: pointer; padding: 0;
    transition: border-color 0.25s, color 0.25s;
    flex-shrink: 0;
  }
  .pi-wish:hover { border-color: var(--steel-lt); color: var(--steel-lt); }
  .pi-wish.saved { color: var(--steel); border-color: var(--steel); }
  .pi-wish.saved svg path { fill: var(--steel); }

  /* Image */
  .pi-img-wrap {
    position: relative;
    aspect-ratio: 3/2;
    overflow: hidden;
    background: color-mix(in srgb, var(--bg), transparent 40%);
  }
  .pi-img {
    width: 100%; height: 100%;
    object-fit: cover; object-position: center;
    display: block;
    transition: transform 0.6s cubic-bezier(0.22,1,0.36,1);
  }
  .pi-card:hover .pi-img { transform: scale(1.05); }
  .pi-img-fade {
    position: absolute; bottom: 0; left: 0; right: 0; height: 55%;
    background: linear-gradient(to top, var(--bg-card) 0%, transparent 100%);
    pointer-events: none;
  }

  /* Card body */
  .pi-card-body { display: flex; flex-direction: column; gap: 5px; flex: 1; }

  .pi-card-meta {
    display: flex; align-items: center; justify-content: space-between;
  }
  .pi-series {
    font-size: 0.58rem; letter-spacing: 0.18em;
    text-transform: uppercase; color: var(--steel-lt); font-weight: 500;
  }
  .pi-storage {
    font-size: 0.56rem; letter-spacing: 0.12em; color: var(--muted);
    background: var(--bg); border: 1px solid var(--border); padding: 2px 7px;
  }

  .pi-name {
    font-family: 'DM Serif Display', Georgia, serif;
    font-size: 1.25rem; font-weight: 400;
    line-height: 1.1; letter-spacing: -0.025em;
    color: var(--text); margin: 4px 0 0;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .pi-name-out {
    color: transparent;
    -webkit-text-stroke: 1px rgba(10,10,10,0.3);
  }
  .pi-spec {
    font-size: 0.68rem; color: var(--muted);
    margin: 4px 0 0; font-weight: 300; letter-spacing: 0.03em;
  }

  /* Footer */
  .pi-card-footer {
    display: flex; align-items: center;
    justify-content: space-between;
    padding-top: 14px;
    border-top: 1px solid var(--border);
    margin-top: auto; gap: 8px;
  }
  .pi-price-wrap { display: flex; flex-direction: column; gap: 1px; }
  .pi-old {
    font-size: 0.65rem; text-decoration: line-through;
    color: var(--muted); opacity: 0.5; line-height: 1;
  }
  .pi-price {
    font-family: 'DM Serif Display', serif;
    font-size: 1.3rem; font-weight: 400;
    color: var(--text); letter-spacing: -0.03em; line-height: 1;
  }

  .pi-btn {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 8px 14px; font-size: 0.6rem; font-weight: 600;
    letter-spacing: 0.15em; text-transform: uppercase;
    text-decoration: none;
    background: var(--text); color: var(--bg);
    transition: background 0.25s, box-shadow 0.25s, gap 0.25s;
    white-space: nowrap; flex-shrink: 0;
  }
  .pi-btn:hover {
    background: var(--steel); color: var(--white);
    box-shadow: 0 4px 18px rgba(74,98,120,0.3);
    gap: 10px;
  }

  /* Bottom accent sweep */
  .pi-accent {
    position: absolute; bottom: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(to right, var(--olive), var(--steel));
    transform: scaleX(0); transform-origin: left;
    transition: transform 0.45s cubic-bezier(0.4,0,0.2,1);
  }
  .pi-card:hover .pi-accent { transform: scaleX(1); }

  /* ── SECTION FOOTER ── */
  .pi-footer {
    display: flex; align-items: center;
    justify-content: space-between; flex-wrap: wrap; gap: 14px;
  }
  .pi-footer-note {
    display: flex; align-items: center; gap: 7px;
    font-size: 0.63rem; letter-spacing: 0.1em; color: var(--muted);
  }
  .pi-footer-note svg { color: var(--steel-lt); flex-shrink: 0; }
  .pi-view-more {
    display: inline-flex; align-items: center; gap: 7px;
    font-size: 0.65rem; font-weight: 500; letter-spacing: 0.18em;
    text-transform: uppercase; text-decoration: none; color: var(--muted);
    transition: color 0.25s, gap 0.25s;
  }
  .pi-view-more:hover { color: var(--steel-lt); gap: 11px; }

  /* ── REVEAL ── */
  [data-reveal] {
    opacity: 0; transform: translateY(22px);
    transition: opacity 0.75s cubic-bezier(0.22,1,0.36,1),
                transform 0.75s cubic-bezier(0.22,1,0.36,1);
  }
  [data-reveal].visible { opacity: 1; transform: translateY(0); }
  [data-delay="0"] { transition-delay: 0.00s; }
  [data-delay="1"] { transition-delay: 0.07s; }
  [data-delay="2"] { transition-delay: 0.14s; }
  [data-delay="3"] { transition-delay: 0.21s; }
  [data-delay="4"] { transition-delay: 0.28s; }
  [data-delay="5"] { transition-delay: 0.35s; }
  [data-delay="6"] { transition-delay: 0.42s; }
  [data-delay="7"] { transition-delay: 0.49s; }

  .pi-card.hidden { display: none; }
</style>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet"/>

<script>
(function () {
  /* ── REVEAL ── */
  const obs = new IntersectionObserver(
    entries => entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } }),
    { threshold: 0.06, rootMargin: '0px 0px -30px 0px' }
  );
  document.querySelectorAll('[data-reveal]').forEach(el => obs.observe(el));

  /* ── FILTERS ── */
  const filterBtns = document.querySelectorAll('.filter-btn');
  const cards      = document.querySelectorAll('.pi-card');

  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      filterBtns.forEach(b => { b.classList.remove('active'); b.setAttribute('aria-selected','false'); });
      btn.classList.add('active');
      btn.setAttribute('aria-selected','true');
      const f = (btn as HTMLElement).dataset.filter;
      cards.forEach(card => {
        const match = f === 'all' || (card as HTMLElement).dataset.filter === f;
        card.classList.toggle('hidden', !match);
      });
    });
  });

  /* ── WISHLIST ── */
  document.querySelectorAll('.pi-wish').forEach(btn => {
    btn.addEventListener('click', () => {
      btn.classList.toggle('saved');
      btn.setAttribute('aria-pressed', btn.classList.contains('saved') ? 'true' : 'false');
    });
  });
})();
</script>